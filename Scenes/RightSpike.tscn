[gd_scene load_steps=3 format=2]

[ext_resource path="res://Assets/Spike.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Area2D


var is_on:bool = false

func off():
	if is_on == false:  #If the spike is already not present in the game, we do nothing to it
		return
		
	var tween = create_tween()
	tween.tween_property(self, \"position:x\",position.x + 50.0,0.25) #Moving the spike off screen
	is_on = false
	tween.play()
	
func on():
	var tween = create_tween()
	tween.tween_property(self, \"position:x\",position.x -  50.0,0.25) #Moving the spike on screen
	is_on = true
	tween.play()


func _on_RightSpike_body_entered(body: Node) -> void: #If the spike colides with a body, and that body is the bird node. we call a die method on bird
	if body is KinematicBody2D:
		body.die()
"

[node name="RightSpike" type="Area2D"]
script = SubResource( 1 )

[node name="Spike" type="Sprite" parent="."]
rotation = -1.5708
texture = ExtResource( 1 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PoolVector2Array( -23, 0, 24, -41, 24, 41 )

[connection signal="body_entered" from="." to="." method="_on_RightSpike_body_entered"]
